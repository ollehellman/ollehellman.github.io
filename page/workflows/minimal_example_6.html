<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	 
	 <meta name="description" content="Temperature dependent effective potential 1.1">
    
    <meta name="author" content="Olle Hellman" >
    <meta name="sourcefile" content="">
    <link rel="icon" href="../../favicon.png">

    <title>Minimal example VI &ndash; TDEP</title>

<!-- <link href="../../css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="../../css/bootstrap.css" rel="stylesheet"> 
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet"> 
    
    <link href="../../css/ollesfixes.css" rel="stylesheet"> 

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../../js/jquery-2.1.3.min.js"></script>
    <script src="../../js/svg-pan-zoom.min.js"></script>

    
    <script src="../../tipuesearch/tipuesearch_content.js"></script>
    <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">
    <script src="../../tipuesearch/tipuesearch_set.js"></script>
    <script src="../../tipuesearch/tipuesearch.js"></script>
    

<!-- adobe typekit thing -->
        <script src="https://use.typekit.net/vpt8bxl.js"></script>
        <script>try{Typekit.load({ async: true });}catch(e){}</script>
  </head>

<body>
<div class="wrapper"><!-- my wrapper to make the footer stick at the bottom -->

<!-- Fixed navbar, defined in macros.html for some reason -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
<div class="navbar-brand"><img style="height:50px; position: relative; left: 0px; top: -10px" src="../../media/matematico.png"></div>
                <a class="navbar-brand" href="../../index.html">TDEP <small>1.1</small></a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <!-- manual thingy -->
            
            <li><a href='../../page/index.html'>Manual</a></li>
            
            <!-- programs -->
            
            <li><a href="../../lists/programs.html">Programs</a></li>
            
            <!-- API -->
            <li>
            <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="apidropdown">API<span class="caret"></span></a>
            <ul class="dropdown-menu" aria-labelledby="apidropdown">
                
                <li><a href="../../lists/files.html">Source Files</a></li>
                
                
                <li><a href="../../lists/modules.html">Modules</a></li>
                
                
                <li><a href="../../lists/procedures.html">Procedures</a></li>
                
                
                
                <li><a href="../../lists/types.html">Derived Types</a></li>
                
            </ul>
            </li>
        </ul>
        
        <form action="../../search.html" class="navbar-form navbar-right" style="padding 0" role="search">
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
        </form>
        
        </div>
    </div>
</nav>

<div class="container-fluid">
    
</div>
<div class="jumbotron">
<div class="container-fluid">
  <h3>Minimal example VI</h3>
</div>
</div>
<div class="container-fluid">

<div class="row">
    
        <div class="col-sm-3">
        <div class="toc">
            <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title"><a href='../../page/index.html'>Manual</a></li>
            </ul>
            <ul class="nav nav-stacked nav-pills">
            
                <li role="presentation">
                <a href='../../page/./0_installation.html'>Installation</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/./1_utilities.html'>Utility scripts</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/./9_publications.html'>Publications</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/./files.html'>Files</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/workflows/index.html'>Workflows</a>
                
                    <ul class="nav nav-stacked nav-pills">
                      
                <li role="presentation">
                <a href='../../page/workflows/minimal_example_1.html'>Minimal example I</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/workflows/minimal_example_2.html'>Minimal example II</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/workflows/minimal_example_3.html'>Minimal example III</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/workflows/minimal_example_4.html'>Minimal example IV</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/workflows/minimal_example_5.html'>Minimal example V</a>
                
                </li>
            
                <li role="presentation" class="disabled">
                <a href='../../page/workflows/minimal_example_6.html'>Minimal example VI</a>
                
                </li>
            
                <li role="presentation">
                <a href='../../page/workflows/using_the_library.html'>Using the library</a>
                
                </li>
            
                    </ul>
                
                </li>
            
            </ul>
        </div>
        </div>
    
    <div class="col-sm-offset-1 col-sm-6 col-sm-offset-2" id='text'>
        <p>In the previous sections we dealt with calculations at a single temperature. Sometimes you want properties as a function of temperature. In <code>some folder</code> I prepared some input for ScF<sub>3</sub> </p><div class="alert alert-info" role="alert"><h4>Note</h4><p>Or something else.</p></div>
<h4>Phonons dispersions as a function of temperature</h4>
<p>Make them plot in all three folders.</p>
<p>Point out that you should only run extractforceconstants once.</p>
<p>Plot all three.</p>
<h4>Interpolate</h4>
<p>For some reason you realise that you where not interested in the phonon dispersions at x,y,or z K, for reasons unknown you want to determine the dispersions at XX K instead. The naive way would be to do a new calculation at that temperature, but that takes a lot of time. It's better to interpolate.</p>
<p>Interpolating the frequencies themselves could be done, but it's not great. Empirically, I have found out that if you interpolate the forceconstants instead, you will have better luck.</p>
<p>This is a little involved, so we will break it into steps.</p>
<p>Provided you followed the instructions and have run extract forceconstants in all three directories, you might have noted that there are files called <code>outfile.phi_secondorder</code>. As <a href="../../program/extract_forceconstants.html">described</a>, these are a list of the irreducible forceconstants. Copy this to an infile</p>
<div class="codehilite"><pre><span></span>cp outfile.phi_secondorder infile.phi_secondorder
</pre></div>


<p>And run</p>
<div class="codehilite"><pre><span></span>./extract_forceconstants -r
</pre></div>


<p>Note that this runs much faster: by invoking the <code>-r</code> flag, it will read the values from file. Now, edit <code>infile.phi_secondorder</code> and change some random value to 100, run</p>
<div class="codehilite"><pre><span></span>./extract_forceconstants -r
phonon_dispersion_relations
gnuplot outfile.dispersion_relations.gnuplot
</pre></div>


<p>The dispersions will probably look really strange. The point of this exercise was to understand how to modify an irreducible component and get a new <code>outfile.forceconstant</code> out.</p>
<p>Since we know how to translate irreducible components to forceconstants, all we need to to is interpolate each irreducible component separately, translate to forceconstants, and calculate dispersions. This way you can get the dispersions at any temperature in the interval.</p>
<p>I like to use matlab for this step, but it should be just as easy in python or some other scripting language. I will not go into details, since I assume you know how to interpolate things. You should construct a script that</p>
<ol>
<li>Reads all N <code>outfile.phi_secondorder</code></li>
<li>For each of the values in <code>outfile.phi_secondorder</code>, create an interpolation that can evaluate that value at any temperature. A second order polynomial works great.</li>
<li>At a temperature of interest, print a new <code>infile.phi_secondorder</code> with the interpolated values and run <code>extract_forceconstants -r</code>. This gives you a forceconstant at this temperature.</li>
<li>Run <code>phonon_dispersion_relations</code> with the new forceconstant, and store <code>outfile.dispersion_relations</code> somewhere.</li>
<li>Repeat this for say 50 temperatures in the valid range. Plot the results somehow.</li>
</ol>
<p>If successful, it should look something like this:</p>
<p></p><div class="alert alert-success" role="alert"><h4>Todo</h4><p>Some picture</p></div>
<p>Or alternatively, just tracking the TO mode at gamma:</p>
<p></p><div class="alert alert-success" role="alert"><h4>Todo</h4><p>Some other picture.</p></div>
<div class="footnote">
<hr>
<ol>
<li id="fn-Lehmann1972">
<p><a href="http://doi.org/10.1002/pssb.2220540211">Lehmann, G., &amp; Taut, M. (1972). On the Numerical Calculation of the Density of States and Related Properties. Physica Status Solidi (B), 54(2), 469â€“477.</a>&#160;<a class="footnote-backref" href="#fnref-Lehmann1972" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
    </div>
</div>


    <br>
    <br>
</div> <!-- /container -->

</div><!-- end of wrapper -->

<div class="footer">
<div class="container"> 
        <br>
        <div class="row">
            <div class="col-md-4">&copy; 2018 </div>
            <div class="col-md-4"><span class="text-center"> TDEP was developed by Olle Hellman & Nina Shulumba</span></div>
            <div class="col-md-4"><span class="pull-right">Documentation generated by <a href="https://github.com/cmacmackin/ford">FORD</a></span></div>
        </div>
        <br>
        <br>
</div>
</div>

    <!-- Bootstrap core JavaScript -->
    <script src="../../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>
    <!-- MathJax JavaScript -->
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],
            TeX: { 
                extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], 
                equationNumbers: { autoNumber: 'AMS' } 
            },
            jax: ['input/TeX','input/MathML','output/HTML-CSS'],
            tex2jax: {
                inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                processEscapes: true
            },
            'HTML-CSS': { 
                styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: '#000000 ! important'} }
            }
        });
    </script>
    <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>